<kt-portlet>
	<kt-portlet-body>
		<!--begin: Wizard -->
		<div #wizard class="kt-grid kt-wizard-v3 kt-wizard-v3--white" id="kt_wizard_v3" data-ktwizard-state="step-first">
			<div class="kt-grid__item">
				<!--begin: Form Wizard Nav -->
				<div class="kt-wizard-v3__nav">
					<div class="kt-wizard-v3__nav-items">
						<a class="kt-wizard-v3__nav-item" href="javascript:;" data-ktwizard-type="step" data-ktwizard-state="current">
							<div class="kt-wizard-v3__nav-body">
								<div class="kt-wizard-v3__nav-label">
									<span>1</span>Evaluation
								</div>
								<div class="kt-wizard-v3__nav-bar"></div>
							</div>
						</a>
						<a class="kt-wizard-v3__nav-item" href="javascript:;" data-ktwizard-type="step">
							<div class="kt-wizard-v3__nav-body">
								<div class="kt-wizard-v3__nav-label">
									<span>2</span> Fixation des nouveaux objectifs
								</div>
								<div class="kt-wizard-v3__nav-bar"></div>
							</div>
						</a>
						<a class="kt-wizard-v3__nav-item" href="javascript:;" data-ktwizard-type="step">
							<div class="kt-wizard-v3__nav-body">
								<div class="kt-wizard-v3__nav-label">
									<span>3</span> Evaluation des compétences
								</div>
								<div class="kt-wizard-v3__nav-bar"></div>
							</div>
						</a>
						<a class="kt-wizard-v3__nav-item" href="javascript:;" data-ktwizard-type="step">
							<div class="kt-wizard-v3__nav-body">
								<div class="kt-wizard-v3__nav-label">
									<span>4</span> Projet Professionel
								</div>
								<div class="kt-wizard-v3__nav-bar"></div>
							</div>
						</a>
						<a class="kt-wizard-v3__nav-item" href="javascript:;" data-ktwizard-type="step">
							<div class="kt-wizard-v3__nav-body">
								<div class="kt-wizard-v3__nav-label">
									<span>5</span> Clôture
								</div>
								<div class="kt-wizard-v3__nav-bar"></div>
							</div>
						</a>
					</div>
				</div>
				<!--end: Form Wizard Nav -->
			</div>
			<div [hidden]="!message" class="alert alert-{{type}}" role="alert" #alertNotice>
				<div class="alert-text" [innerHTML]="message"></div>
			</div>
			<div class="kt-grid__item kt-grid__item--fluid kt-wizard-v3__wrapper">
				<!--begin: Form Wizard Form-->
				<div class="kt-form" id="kt_form">
					<!--begin: Form Wizard Step 1-->
					<div class="kt-wizard-v3__content" data-ktwizard-type="step-content" data-ktwizard-state="current">
						<div class="kt-heading kt-heading--md">EIPs</div>
						<div class="kt-form__section kt-form__section--first">
							<div class="kt-wizard-v3__form">
								<div class="row">
									<div class="col-lg-12 grid-margin stretch-card">
										<div class="card">
											<div class="card-body">
												<h4 class="card-title text-center">Liste des EIPs de la compagne en cours
												</h4>
												<br><br>
												<div class="table-responsive">
													<table id="mytable" class="table table-striped">
														<thead>
															<tr>
																<th>
																	Collaborateur
																</th>
																<th>
																	Compagne
																</th>
																<th>
																	Status
																</th>
															</tr>
														</thead>
														<tbody>
															<tr *ngFor="let entretien of EIPs" (click)="getCollaborateur(entretien)">
																<td>
																	{{entretien.user.fullname}}
																</td>
																<td>
																	{{entretien.compagne.idCompagne}}
																</td>
																<td>
																	{{entretien.status}}
																</td>
															</tr>
														</tbody>
													</table>
												</div>
											</div>
										</div>
									</div>
								</div>

								<br><br>
								<div class="row" *ngIf="collaborateur">
									<div class="col-lg-12 grid-margin stretch-card">
										<div class="kt-heading kt-heading--md">Informations génerales sur le Collaborateur :</div>
									</div>

									<div class="col-xl-3">
										<div class="form-group">
											<label>Fullname :</label>
										</div>
									</div>
									<div class="col-xl-3">
										<div class="form-group">
											<mark>{{collaborateur.fullname}}</mark>
										</div>
									</div>
									<div class="col-xl-3">
										<div class="form-group">
											<label>Email : </label>
										</div>
									</div>
									<div class="col-xl-3">
										<div class="form-group">
											<mark>{{collaborateur.email}}</mark>
										</div>
									</div>
									<div class="col-xl-3">
										<div class="form-group">
											<label>Date Intégration :</label>
										</div>
									</div>
									<div class="col-xl-3">
										<div class="form-group">
											<mark>{{collaborateur.dateIntegration}}</mark>
										</div>
									</div>
									<div class="col-xl-3">
										<div class="form-group">
											<label>Matricule :</label>
										</div>
									</div>
									<div class="col-xl-3">
										<div class="form-group">
											<mark>{{collaborateur.matricule}}</mark>
										</div>
									</div>
								</div>
								<br><br>

								<div class="row" *ngIf="collaborateur">
									<div class="col-lg-12 grid-margin stretch-card">
										<div class="card">
											<div class="card-body">
												<h4 class="card-title text-center">Evaluation des objectifs
												</h4>
												<br><br>
												<div class="table-responsive">
													<table id="mytable" class="table table-striped">
														<thead>
															<tr>
																<th>
																	Objectif
																</th>
																<th>
																	Evaluation
																</th>
																<th>
																	Commentaire
																</th>
															</tr>
														</thead>
														<tbody>
															<tr *ngFor="let objectif of objectifs ; let i = index">
																<td>
																	{{objectif.designation}}
																</td>
																<td>
																	<select (change)="change(objectif)" class="form-control" name="autoEvaluation" [(ngModel)]="objectif.autoEvaluation">
																		<option value={{objectif.autoEvaluation}} selected>
																			{{objectif.autoEvaluation}}</option>
																		<option value="Performance à amelioré">Performance à
																			ameliore</option>
																		<option value="Zone de conformite">Zone de
																			conformite</option>
																		<option value="Objectif dépassé">Objectif
																			dépassé</option>
																		<option value="Performance exceptionnelle">
																			Performance exceptionnelle </option>
																	</select>
																</td>
																<td>
																	<textarea (change)="change(objectif)" class="form-control" placeholder="commentaire" name="commentaire" [(ngModel)]="objectif.commentaire">
																	</textarea>
																</td>
															</tr>
														</tbody>
													</table>
												</div>
											</div>
										</div>
									</div>
								</div>

								<br><br>
								<!-- <div *ngIf="entretien">

									<div class="form-group">
										<label>Projet professionel</label>
										<input type="text" class="form-control" placeholder="Projet professionel" name="projet" [(ngModel)]="entretien.projet">
										<span class="form-text text-muted">Please fill in Projet professionel</span>
									</div>

									<div class="form-group">
										<label>Points forts</label>
										<input type="text" class="form-control" placeholder="Points forts" name="points" [(ngModel)]="entretien.points">
										<span class="form-text text-muted">Please fill in Points forts.</span>
									</div>

									<div class="form-group">
										<label>Axes d'améliorations </label>
										<input type="text" class="form-control" placeholder="Axes d'améliorations" name="axes" [(ngModel)]="entretien.axes">
										<span class="form-text text-muted">Please fill in axes d'améliorations.</span>
									</div>

									<div class="form-group">
										<label>Formations</label>
										<input type="text" class="form-control" placeholder="Formations" name="formations" [(ngModel)]="entretien.formations">
										<span class="form-text text-muted">Please fill in Formations.</span>
									</div>

									<div class="form-group">
										<label>Certifications</label>
										<input type="text" class="form-control" placeholder="Certifications" name="certifications" [(ngModel)]="entretien.certifications">
										<span class="form-text text-muted">Please fill in Certifications.</span>
									</div>


								</div> -->
							</div>
						</div>
					</div>
					<!--end: Form Wizard Step 1-->
					<!--begin: Form Wizard Step 2-->
					<div class="kt-wizard-v3__content" data-ktwizard-type="step-content">
						<div *ngIf="collaborateur" class="kt-heading kt-heading--md">Ajouter des nouveaux objectifs pour {{collaborateur.username}} </div>
						<div class="kt-form__section kt-form__section--first">
							<div class="kt-wizard-v3__form">
								<div class="form-group">
									<div *ngFor="let objectif of newObjectifList ; let i=index">
										<label>Objectif Designation</label>
										<textarea (change)="addNew(objectif)" class="form-control" placeholder="designation" name={{i}}{{objectif.designation}} [(ngModel)]="objectif.designation">
											</textarea>
										<span class="form-text text-muted">Please enter your new Objectif.</span>
									</div>
									<button (click)="showOneLess()" [hidden]="index==1" style="float:right" mat-raised-button>Supprimer
										<span class="material-icons">clear</span></button>
									<button (click)="showOneMore()" style="float:right" mat-raised-button color="warn">Ajouter un autre
										<span class="material-icons">add</span></button>
								</div>
							</div>
						</div>
					</div>
					<!--end: Form Wizard Step 2-->

					<!--begin: Form Actions -->
					<div class="kt-form__actions">
						<div data-ktwizard-type="action-prev">
							<td><button (click)="retour()" class="btn btn-secondary btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u">Retour
								</button></td>
						</div>
						<div (click)="onSubmit()" class="btn btn-success btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u" data-ktwizard-type="action-submit">
							Valider
						</div>
						<div data-ktwizard-type="action-next">
							<td><button [disabled]="!collaborateur || objectifFlag && stepNumber==2 || !newObjectifFixed && stepNumber==2" 
										(click)="suivant()" class="btn btn-brand btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u">
										Suivant
								</button></td>
						</div>
					</div>
					<!--end: Form Actions -->
				</div>
				<!--end: Form Wizard Form-->
			</div>
		</div>
		<!--end: Wizard -->

	</kt-portlet-body>
</kt-portlet>
